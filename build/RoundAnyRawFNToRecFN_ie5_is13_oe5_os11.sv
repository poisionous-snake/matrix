// Generated by CIRCT firtool-1.62.1
// Standard header to adapt well known macros for prints and assertions.

// Users can define 'PRINTF_COND' to add an extra gate to prints.
// Standard header to adapt well known macros for register randomization.
`ifndef RANDOMIZE
  `ifdef RANDOMIZE_REG_INIT
    `define RANDOMIZE
  `endif // RANDOMIZE_REG_INIT
`endif // not def RANDOMIZE

// RANDOM may be set to an expression that produces a 32-bit random unsigned value.
`ifndef RANDOM
  `define RANDOM $random
`endif // not def RANDOM

// Users can define INIT_RANDOM as general code that gets injected into the
// initializer block for modules with registers.
`ifndef INIT_RANDOM
  `define INIT_RANDOM
`endif // not def INIT_RANDOM

// If using random initialization, you can also define RANDOMIZE_DELAY to
// customize the delay used, otherwise 0.002 is used.
`ifndef RANDOMIZE_DELAY
  `define RANDOMIZE_DELAY 0.002
`endif // not def RANDOMIZE_DELAY

// Define INIT_RANDOM_PROLOG_ for use in our modules below.
`ifndef INIT_RANDOM_PROLOG_
  `ifdef RANDOMIZE
    `ifdef VERILATOR
      `define INIT_RANDOM_PROLOG_ `INIT_RANDOM
    `else  // VERILATOR
      `define INIT_RANDOM_PROLOG_ `INIT_RANDOM #`RANDOMIZE_DELAY begin end
    `endif // VERILATOR
  `else  // RANDOMIZE
    `define INIT_RANDOM_PROLOG_
  `endif // RANDOMIZE
`endif // not def INIT_RANDOM_PROLOG_

// Include register initializers in init blocks unless synthesis is set
`ifndef SYNTHESIS
  `ifndef ENABLE_INITIAL_REG_
    `define ENABLE_INITIAL_REG_
  `endif // not def ENABLE_INITIAL_REG_
`endif // not def SYNTHESIS

// Include rmemory initializers in init blocks unless synthesis is set
`ifndef SYNTHESIS
  `ifndef ENABLE_INITIAL_MEM_
    `define ENABLE_INITIAL_MEM_
  `endif // not def ENABLE_INITIAL_MEM_
`endif // not def SYNTHESIS

`ifndef PRINTF_COND_
  `ifdef PRINTF_COND
    `define PRINTF_COND_ (`PRINTF_COND)
  `else  // PRINTF_COND
    `define PRINTF_COND_ 1
  `endif // PRINTF_COND
`endif // not def PRINTF_COND_

module RoundAnyRawFNToRecFN_ie5_is13_oe5_os11(	// @[home/yzy/chisel-playground/playground/src/RoundAnyRawFNToRecFN.scala:47:5]
  input         io_invalidExc,	// @[home/yzy/chisel-playground/playground/src/RoundAnyRawFNToRecFN.scala:57:16]
                io_in_isNaN,	// @[home/yzy/chisel-playground/playground/src/RoundAnyRawFNToRecFN.scala:57:16]
                io_in_isInf,	// @[home/yzy/chisel-playground/playground/src/RoundAnyRawFNToRecFN.scala:57:16]
                io_in_isZero,	// @[home/yzy/chisel-playground/playground/src/RoundAnyRawFNToRecFN.scala:57:16]
                io_in_sign,	// @[home/yzy/chisel-playground/playground/src/RoundAnyRawFNToRecFN.scala:57:16]
  input  [6:0]  io_in_sExp,	// @[home/yzy/chisel-playground/playground/src/RoundAnyRawFNToRecFN.scala:57:16]
  input  [13:0] io_in_sig,	// @[home/yzy/chisel-playground/playground/src/RoundAnyRawFNToRecFN.scala:57:16]
  output [16:0] io_out	// @[home/yzy/chisel-playground/playground/src/RoundAnyRawFNToRecFN.scala:57:16]
);

  wire [64:0] roundMask_shift = $signed(65'sh10000000000000000 >>> ~(io_in_sExp[5:0]));	// @[home/yzy/chisel-playground/playground/src/RoundAnyRawFNToRecFN.scala:155:37, home/yzy/chisel-playground/playground/src/primitives.scala:51:21, :75:56]
  wire [1:0]  _GEN = {roundMask_shift[10], roundMask_shift[11]};	// @[home/yzy/chisel-playground/playground/src/primitives.scala:75:56, :76:20, :77:22]
  wire        _GEN_0 = roundMask_shift[18] | io_in_sig[13];	// @[home/yzy/chisel-playground/playground/src/RoundAnyRawFNToRecFN.scala:119:57, :158:23, home/yzy/chisel-playground/playground/src/primitives.scala:75:56, :76:20, :77:22]
  wire [12:0] _GEN_1 =
    {roundMask_shift[7],
     roundMask_shift[8],
     roundMask_shift[9],
     roundMask_shift[10],
     roundMask_shift[11],
     roundMask_shift[12],
     roundMask_shift[13],
     roundMask_shift[14],
     roundMask_shift[15],
     roundMask_shift[16],
     roundMask_shift[17],
     _GEN_0,
     1'h1};	// @[home/yzy/chisel-playground/playground/src/RoundAnyRawFNToRecFN.scala:57:16, :89:53, :158:{23,42}, :168:38, :242:60, home/yzy/chisel-playground/playground/src/primitives.scala:75:56, :76:20, :77:22]
  wire [12:0] _roundPosBit_T =
    io_in_sig[13:1]
    & {1'h1,
       ~(roundMask_shift[7]),
       ~(roundMask_shift[8]),
       ~(roundMask_shift[9]),
       ~_GEN,
       ~(roundMask_shift[12]),
       ~(roundMask_shift[13]),
       ~(roundMask_shift[14]),
       ~(roundMask_shift[15]),
       ~(roundMask_shift[16]),
       ~(roundMask_shift[17]),
       ~_GEN_0} & _GEN_1;	// @[home/yzy/chisel-playground/playground/src/RoundAnyRawFNToRecFN.scala:57:16, :89:53, :158:{23,42}, :161:53, :162:28, :163:40, :168:38, :242:60, home/yzy/chisel-playground/playground/src/primitives.scala:75:56, :76:20, :77:22]
  wire [12:0] roundedSig =
    (|_roundPosBit_T)
      ? {1'h0,
         io_in_sig[13:2]
           | {roundMask_shift[7],
              roundMask_shift[8],
              roundMask_shift[9],
              roundMask_shift[10],
              roundMask_shift[11],
              roundMask_shift[12],
              roundMask_shift[13],
              roundMask_shift[14],
              roundMask_shift[15],
              roundMask_shift[16],
              roundMask_shift[17],
              _GEN_0}} + 13'h1
        & ~((|_roundPosBit_T) & (io_in_sig[12:0] & _GEN_1) == 13'h0
              ? {roundMask_shift[7],
                 roundMask_shift[8],
                 roundMask_shift[9],
                 roundMask_shift[10],
                 roundMask_shift[11],
                 roundMask_shift[12],
                 roundMask_shift[13],
                 roundMask_shift[14],
                 roundMask_shift[15],
                 roundMask_shift[16],
                 roundMask_shift[17],
                 _GEN_0,
                 1'h1}
              : 13'h0)
      : {1'h0,
         io_in_sig[13:2]
           & {~(roundMask_shift[7]),
              ~(roundMask_shift[8]),
              ~(roundMask_shift[9]),
              ~_GEN,
              ~(roundMask_shift[12]),
              ~(roundMask_shift[13]),
              ~(roundMask_shift[14]),
              ~(roundMask_shift[15]),
              ~(roundMask_shift[16]),
              ~(roundMask_shift[17]),
              ~_GEN_0}};	// @[home/yzy/chisel-playground/playground/src/RoundAnyRawFNToRecFN.scala:57:16, :89:53, :158:{23,42}, :162:28, :163:{40,56}, :164:{42,62}, :168:38, :170:29, :172:16, :173:{32,49,57}, :174:{21,25,64}, :176:35, :179:{30,43,47}, :180:24, :208:29, :242:60, home/yzy/chisel-playground/playground/src/primitives.scala:75:56, :76:20, :77:22]
  wire [7:0]  sRoundedExp = {io_in_sExp[6], io_in_sExp} + {6'h0, roundedSig[12:11]};	// @[home/yzy/chisel-playground/playground/src/RoundAnyRawFNToRecFN.scala:172:16, :184:{40,54}, :268:16, :272:16]
  wire        common_totalUnderflow = $signed(sRoundedExp) < 8'sh8;	// @[home/yzy/chisel-playground/playground/src/RoundAnyRawFNToRecFN.scala:184:40, :199:31]
  wire        isNaNOut = io_invalidExc | io_in_isNaN;	// @[home/yzy/chisel-playground/playground/src/RoundAnyRawFNToRecFN.scala:234:34]
  wire        notNaN_isInfOut =
    io_in_isInf | ~isNaNOut & ~io_in_isInf & ~io_in_isZero
    & $signed(sRoundedExp[7:4]) > 4'sh2;	// @[home/yzy/chisel-playground/playground/src/RoundAnyRawFNToRecFN.scala:184:40, :195:{30,50}, :234:34, :236:{22,36,64}, :237:32, :247:32]
  assign io_out =
    {~isNaNOut & io_in_sign,
     sRoundedExp[5:0] & ~(io_in_isZero | common_totalUnderflow ? 6'h38 : 6'h0)
       & {2'h3, ~notNaN_isInfOut, 3'h7} | (notNaN_isInfOut ? 6'h30 : 6'h0)
       | (isNaNOut ? 6'h38 : 6'h0),
     isNaNOut | io_in_isZero | common_totalUnderflow
       ? {isNaNOut, 9'h0}
       : io_in_sig[13] ? roundedSig[10:1] : roundedSig[9:0]};	// @[home/yzy/chisel-playground/playground/src/RoundAnyRawFNToRecFN.scala:47:5, :119:57, :158:42, :172:16, :184:40, :186:37, :188:16, :189:27, :190:27, :199:31, :234:34, :247:32, :249:22, :252:{14,18,32}, :263:17, :264:{14,18}, :268:16, :272:16, :276:{16,73}, :277:16, :279:{12,38}, :280:16, :285:33]
endmodule

