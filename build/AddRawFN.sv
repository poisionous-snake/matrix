// Generated by CIRCT firtool-1.62.1
// Standard header to adapt well known macros for prints and assertions.

// Users can define 'PRINTF_COND' to add an extra gate to prints.
// Standard header to adapt well known macros for register randomization.
`ifndef RANDOMIZE
  `ifdef RANDOMIZE_REG_INIT
    `define RANDOMIZE
  `endif // RANDOMIZE_REG_INIT
`endif // not def RANDOMIZE

// RANDOM may be set to an expression that produces a 32-bit random unsigned value.
`ifndef RANDOM
  `define RANDOM $random
`endif // not def RANDOM

// Users can define INIT_RANDOM as general code that gets injected into the
// initializer block for modules with registers.
`ifndef INIT_RANDOM
  `define INIT_RANDOM
`endif // not def INIT_RANDOM

// If using random initialization, you can also define RANDOMIZE_DELAY to
// customize the delay used, otherwise 0.002 is used.
`ifndef RANDOMIZE_DELAY
  `define RANDOMIZE_DELAY 0.002
`endif // not def RANDOMIZE_DELAY

// Define INIT_RANDOM_PROLOG_ for use in our modules below.
`ifndef INIT_RANDOM_PROLOG_
  `ifdef RANDOMIZE
    `ifdef VERILATOR
      `define INIT_RANDOM_PROLOG_ `INIT_RANDOM
    `else  // VERILATOR
      `define INIT_RANDOM_PROLOG_ `INIT_RANDOM #`RANDOMIZE_DELAY begin end
    `endif // VERILATOR
  `else  // RANDOMIZE
    `define INIT_RANDOM_PROLOG_
  `endif // RANDOMIZE
`endif // not def INIT_RANDOM_PROLOG_

// Include register initializers in init blocks unless synthesis is set
`ifndef SYNTHESIS
  `ifndef ENABLE_INITIAL_REG_
    `define ENABLE_INITIAL_REG_
  `endif // not def ENABLE_INITIAL_REG_
`endif // not def SYNTHESIS

// Include rmemory initializers in init blocks unless synthesis is set
`ifndef SYNTHESIS
  `ifndef ENABLE_INITIAL_MEM_
    `define ENABLE_INITIAL_MEM_
  `endif // not def ENABLE_INITIAL_MEM_
`endif // not def SYNTHESIS

`ifndef PRINTF_COND_
  `ifdef PRINTF_COND
    `define PRINTF_COND_ (`PRINTF_COND)
  `else  // PRINTF_COND
    `define PRINTF_COND_ 1
  `endif // PRINTF_COND
`endif // not def PRINTF_COND_

module AddRawFN(	// @[home/yzy/chisel-playground/playground/src/AddRecFN.scala:46:7]
  input         io_a_isNaN,	// @[home/yzy/chisel-playground/playground/src/AddRecFN.scala:48:16]
                io_a_isInf,	// @[home/yzy/chisel-playground/playground/src/AddRecFN.scala:48:16]
                io_a_isZero,	// @[home/yzy/chisel-playground/playground/src/AddRecFN.scala:48:16]
                io_a_sign,	// @[home/yzy/chisel-playground/playground/src/AddRecFN.scala:48:16]
  input  [6:0]  io_a_sExp,	// @[home/yzy/chisel-playground/playground/src/AddRecFN.scala:48:16]
  input  [11:0] io_a_sig,	// @[home/yzy/chisel-playground/playground/src/AddRecFN.scala:48:16]
  input         io_b_isNaN,	// @[home/yzy/chisel-playground/playground/src/AddRecFN.scala:48:16]
                io_b_isInf,	// @[home/yzy/chisel-playground/playground/src/AddRecFN.scala:48:16]
                io_b_isZero,	// @[home/yzy/chisel-playground/playground/src/AddRecFN.scala:48:16]
                io_b_sign,	// @[home/yzy/chisel-playground/playground/src/AddRecFN.scala:48:16]
  input  [6:0]  io_b_sExp,	// @[home/yzy/chisel-playground/playground/src/AddRecFN.scala:48:16]
  input  [11:0] io_b_sig,	// @[home/yzy/chisel-playground/playground/src/AddRecFN.scala:48:16]
  output        io_invalidExc,	// @[home/yzy/chisel-playground/playground/src/AddRecFN.scala:48:16]
                io_rawOut_isNaN,	// @[home/yzy/chisel-playground/playground/src/AddRecFN.scala:48:16]
                io_rawOut_isInf,	// @[home/yzy/chisel-playground/playground/src/AddRecFN.scala:48:16]
                io_rawOut_isZero,	// @[home/yzy/chisel-playground/playground/src/AddRecFN.scala:48:16]
                io_rawOut_sign,	// @[home/yzy/chisel-playground/playground/src/AddRecFN.scala:48:16]
  output [6:0]  io_rawOut_sExp,	// @[home/yzy/chisel-playground/playground/src/AddRecFN.scala:48:16]
  output [13:0] io_rawOut_sig	// @[home/yzy/chisel-playground/playground/src/AddRecFN.scala:48:16]
);

  wire        eqSigns = io_a_sign == io_b_sign;	// @[home/yzy/chisel-playground/playground/src/AddRecFN.scala:60:29]
  wire [6:0]  _sDiffExps_T = io_a_sExp - io_b_sExp;	// @[home/yzy/chisel-playground/playground/src/AddRecFN.scala:62:31]
  wire        _common_sExpOut_T = $signed(_sDiffExps_T) < 7'sh0;	// @[home/yzy/chisel-playground/playground/src/AddRecFN.scala:62:31, :63:41]
  wire [3:0]  _modNatAlignDist_T_4 =
    _common_sExpOut_T ? io_b_sExp[3:0] - io_a_sExp[3:0] : _sDiffExps_T[3:0];	// @[home/yzy/chisel-playground/playground/src/AddRecFN.scala:48:16, :62:31, :63:{30,41,58}]
  wire        isMaxAlign =
    (|(_sDiffExps_T[6:4])) & (_sDiffExps_T[6:4] != 3'h7 | _sDiffExps_T[3:0] == 4'h0);	// @[home/yzy/chisel-playground/playground/src/AddRecFN.scala:62:31, :65:{19,37,45}, :66:{42,51,63,87}]
  wire [3:0]  alignDist = isMaxAlign ? 4'hF : _modNatAlignDist_T_4;	// @[home/yzy/chisel-playground/playground/src/AddRecFN.scala:63:30, :65:45, :67:24]
  wire        closeSubMags = ~eqSigns & ~isMaxAlign & _modNatAlignDist_T_4 < 4'h2;	// @[home/yzy/chisel-playground/playground/src/AddRecFN.scala:60:29, :63:30, :65:45, :68:{24,36,48,68}]
  wire        _close_alignedSigA_T_5 = $signed(_sDiffExps_T) > -7'sh1;	// @[home/yzy/chisel-playground/playground/src/AddRecFN.scala:62:31, :72:18]
  wire [13:0] _close_alignedSigA_T_4 =
    _close_alignedSigA_T_5 & _sDiffExps_T[0] ? {io_a_sig, 2'h0} : 14'h0;	// @[home/yzy/chisel-playground/playground/src/AddRecFN.scala:62:31, :72:{12,18,32,45,58}]
  wire [12:0] _GEN =
    _close_alignedSigA_T_4[12:0]
    | (_close_alignedSigA_T_5 & ~(_sDiffExps_T[0]) ? {io_a_sig, 1'h0} : 13'h0);	// @[home/yzy/chisel-playground/playground/src/AddRecFN.scala:62:31, :63:41, :72:{12,18,45,68}, :73:{12,32,35,58}]
  wire [13:0] _close_sSigSum_T_3 =
    {_close_alignedSigA_T_4[13],
     _GEN[12],
     _GEN[11:0] | (_common_sExpOut_T ? io_a_sig : 12'h0)}
    - {io_b_sig[11], io_b_sig, 1'h0};	// @[home/yzy/chisel-playground/playground/src/AddRecFN.scala:63:41, :72:{12,68}, :73:68, :74:12, :75:50]
  wire        _close_notTotalCancellation_signOut_T =
    $signed(_close_sSigSum_T_3) < 14'sh0;	// @[home/yzy/chisel-playground/playground/src/AddRecFN.scala:72:12, :75:50, :76:42]
  wire [12:0] _close_sigSum_T_4 =
    _close_notTotalCancellation_signOut_T
      ? 13'h0 - _close_sSigSum_T_3[12:0]
      : _close_sSigSum_T_3[12:0];	// @[home/yzy/chisel-playground/playground/src/AddRecFN.scala:63:41, :73:12, :75:50, :76:{27,42,49}]
  wire [2:0]  close_normDistReduced2 =
    (|(_close_sigSum_T_4[12:11]))
      ? 3'h0
      : (|(_close_sigSum_T_4[10:9]))
          ? 3'h1
          : (|(_close_sigSum_T_4[8:7]))
              ? 3'h2
              : (|(_close_sigSum_T_4[6:5]))
                  ? 3'h3
                  : (|(_close_sigSum_T_4[4:3]))
                      ? 3'h4
                      : (|(_close_sigSum_T_4[2:1])) ? 3'h5 : 3'h6;	// @[home/yzy/chisel-playground/playground/src/AddRecFN.scala:61:47, :76:27, home/yzy/chisel-playground/playground/src/primitives.scala:102:{33,54}, :105:{15,57}, src/main/scala/chisel3/util/Mux.scala:50:70]
  wire [27:0] _close_sigOut_T =
    {15'h0, _close_sigSum_T_4} << {24'h0, close_normDistReduced2, 1'h0};	// @[home/yzy/chisel-playground/playground/src/AddRecFN.scala:63:41, :76:{27,49}, :81:38, src/main/scala/chisel3/util/Mux.scala:50:70]
  wire [10:0] _far_sigSmaller_T_1 = _common_sExpOut_T ? io_a_sig[10:0] : io_b_sig[10:0];	// @[home/yzy/chisel-playground/playground/src/AddRecFN.scala:48:16, :63:41, :88:29]
  wire [15:0] far_mainAlignedSigSmaller = {_far_sigSmaller_T_1, 5'h0} >> alignDist;	// @[home/yzy/chisel-playground/playground/src/AddRecFN.scala:67:24, :88:29, :89:{52,56}]
  wire [4:0]  far_roundExtraMask_shift = $signed(5'sh10 >>> alignDist[3:2]);	// @[home/yzy/chisel-playground/playground/src/AddRecFN.scala:67:24, :91:47, home/yzy/chisel-playground/playground/src/primitives.scala:75:56]
  wire        _far_alignedSigSmaller_T_5 =
    (|(far_mainAlignedSigSmaller[2:0]))
    | (|({_far_sigSmaller_T_1[10],
          |(_far_sigSmaller_T_1[9:6]),
          |(_far_sigSmaller_T_1[5:2]),
          |(_far_sigSmaller_T_1[1:0])}
         & {far_roundExtraMask_shift[0],
            far_roundExtraMask_shift[1],
            far_roundExtraMask_shift[2],
            far_roundExtraMask_shift[3]}));	// @[home/yzy/chisel-playground/playground/src/AddRecFN.scala:88:29, :89:56, :94:{38,45,49,76,98}, home/yzy/chisel-playground/playground/src/primitives.scala:75:56, :76:20, :77:22, :119:{33,54}, :122:15, :123:20]
  wire [14:0] _far_sigSum_T_3 =
    {1'h0, _common_sExpOut_T ? io_b_sig[10:0] : io_a_sig[10:0], 3'h0}
    + (eqSigns
         ? {1'h0, far_mainAlignedSigSmaller[15:3], _far_alignedSigSmaller_T_5}
         : {1'h1, ~{far_mainAlignedSigSmaller[15:3], _far_alignedSigSmaller_T_5}})
    + {14'h0, ~eqSigns};	// @[home/yzy/chisel-playground/playground/src/AddRecFN.scala:48:16, :60:29, :63:41, :66:42, :68:24, :72:12, :87:29, :89:56, :93:{12,38}, :94:49, :96:{39,56,62}, :97:{41,68}, src/main/scala/chisel3/util/Mux.scala:50:70]
  wire        notNaN_isInfOut = io_a_isInf | io_b_isInf;	// @[home/yzy/chisel-playground/playground/src/AddRecFN.scala:102:38]
  wire        addZeros = io_a_isZero & io_b_isZero;	// @[home/yzy/chisel-playground/playground/src/AddRecFN.scala:103:32]
  wire        notNaN_specialCase = notNaN_isInfOut | addZeros;	// @[home/yzy/chisel-playground/playground/src/AddRecFN.scala:102:38, :103:32, :104:46]
  assign io_invalidExc =
    io_a_isNaN & ~(io_a_sig[9]) | io_b_isNaN & ~(io_b_sig[9]) | io_a_isInf & io_b_isInf
    & ~eqSigns;	// @[home/yzy/chisel-playground/playground/src/AddRecFN.scala:46:7, :60:29, :68:24, :101:57, :120:71, home/yzy/chisel-playground/playground/src/common.scala:81:{46,49,56}]
  assign io_rawOut_isNaN = io_a_isNaN | io_b_isNaN;	// @[home/yzy/chisel-playground/playground/src/AddRecFN.scala:46:7, :124:35]
  assign io_rawOut_isInf = notNaN_isInfOut;	// @[home/yzy/chisel-playground/playground/src/AddRecFN.scala:46:7, :102:38]
  assign io_rawOut_isZero =
    addZeros | ~notNaN_isInfOut & closeSubMags & ~(|(_close_sigOut_T[12:11]));	// @[home/yzy/chisel-playground/playground/src/AddRecFN.scala:46:7, :68:48, :81:{38,63}, :82:{35,49,82}, :102:38, :103:32, :105:{37,41,74}]
  assign io_rawOut_sign =
    eqSigns & io_a_sign | io_a_isInf & io_a_sign | io_b_isInf & io_b_sign
    | ~notNaN_specialCase & closeSubMags & (|(_close_sigOut_T[12:11]))
    & (io_a_sign ^ _close_notTotalCancellation_signOut_T) | ~notNaN_specialCase
    & ~closeSubMags & (_common_sExpOut_T ? io_b_sign : io_a_sign);	// @[home/yzy/chisel-playground/playground/src/AddRecFN.scala:46:7, :60:29, :63:41, :68:48, :76:42, :81:{38,63}, :82:{49,82}, :83:56, :86:26, :104:46, :107:39, :108:39, :109:39, :111:10, :112:{38,77}, :113:{33,47}]
  assign io_rawOut_sExp =
    (closeSubMags | _common_sExpOut_T ? io_b_sExp : io_a_sExp)
    - {3'h0, closeSubMags ? {close_normDistReduced2, 1'h0} : {3'h0, ~eqSigns}};	// @[home/yzy/chisel-playground/playground/src/AddRecFN.scala:46:7, :60:29, :63:41, :68:{24,48}, :80:53, :115:{13,27}, :116:{13,18}, src/main/scala/chisel3/util/Mux.scala:50:70]
  assign io_rawOut_sig =
    closeSubMags
      ? {_close_sigOut_T[12:0], 1'h0}
      : eqSigns
          ? {_far_sigSum_T_3[14:2], _far_sigSum_T_3[1] | _far_sigSum_T_3[0]}
          : _far_sigSum_T_3[13:0];	// @[home/yzy/chisel-playground/playground/src/AddRecFN.scala:46:7, :60:29, :63:41, :68:48, :81:{38,63}, :97:68, :98:{25,62,67,79}, :117:28]
endmodule

